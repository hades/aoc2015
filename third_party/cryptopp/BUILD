package(default_visibility = ["//visibility:public"])

cc_library(
    name = "cryptopp",
    srcs = glob(
        [
            "*.h",
            "*.inc",
            "*.cpp",
        ],
        exclude = [
            "adhoc.cpp",
            "arm_*",
            "bench.h",
            "bench1.cpp",
            "bench2.cpp",
            "bench3.cpp",
            "datatest.cpp",
            "dlltest.cpp",
            "factory.h",
            "fipsalgt.cpp",
            "neon_*",
            "pch.cpp",
            "regtest1.cpp",
            "regtest2.cpp",
            "regtest3.cpp",
            "regtest4.cpp",
            "resource.h",
            "simple.cpp",
            "test.cpp",
            "validat0.cpp",
            "validat1.cpp",
            "validat10.cpp",
            "validat2.cpp",
            "validat3.cpp",
            "validat4.cpp",
            "validat5.cpp",
            "validat6.cpp",
            "validat7.cpp",
            "validat8.cpp",
            "validat9.cpp",
            "validate.h",
        ],
    ),
    hdrs = [
        "cryptlib.h",
        "md5.h",
    ],
    copts = [
        "-msse2",
        "-mssse3",
        "-msse4.2",
        "-msha",
        "-maes",
        "-mavx2",
        "-mpclmul",
    ],
    defines = [
        "NDEBUG",
    ],
    includes = [
        ".",
    ],
    linkstatic = True,
)
